<!DOCTYPE html>
<html ng-app="people">
  <head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/css/app.css">
    <script type="text/javascript" src="js/angular.js"></script>
    <!-- <script type="text/javascript" src="js/bootstrap.js"></script> -->
    <script type="text/javascript" src="js/app.js"></script>
  </head>
  <body>
    <div ng-controller="PeopleController as people" class="container">
      <div ng-controller="TabController as tab" class="row">
        <h1>Current staff:</h1>
        <div ng-repeat="person in people.persons | orderBy:'-salary'" ng-hide="person.leftCompany" class="row people-show">
          <div class="col-md-4">
            <h2><strong>Name: </strong>{{person.name | uppercase}}</h2>
            <ul class="nav nav-pills">
              <li ng-class="{ active: tab.isSelected(1) }">
                <a href ng-click="tab.selectTab(1)">Details</a>
              </li>
              <li ng-class="{ active: tab.isSelected(2) }">
                <a href ng-click="tab.selectTab(2)">Description</a>
              </li>
              <li ng-class="{ active: tab.isSelected(3) }">
                <a href ng-click="tab.selectTab(3)">Gallery</a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">

              <div ng-show="tab.isSelected(1)">
                <p><strong>Based in: </strong>{{person.homwTown}}</p>
                <p><strong>Age: </strong>{{person.age}}</p>
                <p><strong>Employment date: </strong>{{person.employmentDate | date:'dd/MM/yyyy'}}</p>
                <p><strong>Salary: </strong>{{person.salary | currency}}</p>
                <button class="btn">Raise him</button>
                <button ng-show="person.canBeFired" class="btn">Fire him</button>
              </div>

              <div ng-show="tab.isSelected(2)">
                <p><strong>Description:</strong></p>
                <p class="description">{{person.description}}</p>
              </div>

              <div ng-show="tab.isSelected(3)" ng-controller="GalleryController as gallery">
                <div ng-show="person.images.length > 0" class="gallery">
                  <div class="col-md-5">
                    <img ng-src="{{person.images[gallery.current].full}}">
                  </div>
                  <div class="col-md-7" max-height="300px">
                    <div ng-repeat="image in person.images" class="gallery-thumb">
                      <!-- <a ng-click="gallery.selectPicture"> -->
                        <img ng-src="{{image.thumb}}">
                      <!-- </a> -->
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>

  </body>
</html>